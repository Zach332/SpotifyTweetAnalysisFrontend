(this["webpackJsonpevent-playlist"]=this["webpackJsonpevent-playlist"]||[]).push([[0],{20:function(e,t,n){},38:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n(1),s=n.n(a),i=n(14),o=n.n(i),r=(n(20),n(3));function l(){return Object(c.jsxs)("div",{children:[Object(c.jsx)("h1",{style:{paddingTop:"13%",paddingLeft:"10%",textAlign:"Left",fontSize:"55px"},children:"Spotify Tweet Analysis"}),Object(c.jsx)("p",{style:{paddingLeft:"30%",fontSize:"35px",paddingBottom:"12%"},children:"Generate playlists based on tweets\ud83d\udc26 and data\ud83d\udcc8."})]})}function d(e){var t=e.track,n=e.sentimentColor;return Object(c.jsx)("a",{href:t.external_urls.spotify,target:"_blank",className:" mx-auto list-group-item list-group-item-action m-1 rounded border",style:{width:250,background:n.background,color:n.text},children:Object(c.jsxs)("div",{style:{width:200},children:[Object(c.jsx)("img",{src:t.album.images[1].url,className:"card-img-top"}),Object(c.jsxs)("div",{className:"card-body",children:[Object(c.jsx)("h5",{className:"mb-1",children:t.name}),Object(c.jsx)("small",{children:Object(c.jsx)("i",{children:t.album.artists[0].name})})]})]})})}function b(){return Object(c.jsx)("div",{className:"text-center",children:Object(c.jsx)("div",{className:"spinner-border mt-5",role:"status",children:Object(c.jsx)("span",{className:"sr-only",children:"Loading..."})})})}var j=n(4),u=n.n(j);var h=function(){var e=new Date,t=Object(a.useState)([]),n=Object(r.a)(t,2),s=n[0],i=n[1],o=Object(a.useState)("nytimes"),j=Object(r.a)(o,2),h=j[0],p=j[1],m=Object(a.useState)(""),f=Object(r.a)(m,2),x=f[0],O=f[1],y=Object(a.useState)("Spotify user"),v=Object(r.a)(y,2),g=v[0],w=v[1],S=Object(a.useState)(""),N=Object(r.a)(S,2),k=N[0],z=N[1],A=Object(a.useState)(""),C=Object(r.a)(A,2),T=C[0],L=C[1],B=Object(a.useState)(e.toLocaleDateString()+" vibes"),D=Object(r.a)(B,2),F=D[0],M=D[1],R=Object(a.useState)("none"),_=Object(r.a)(R,2),W=_[0],I=_[1],P=Object(a.useState)("notAuthorized"),E=Object(r.a)(P,2),G=E[0],H=E[1],J=Object(a.useState)([{background:"beige",text:"black",description:""}]),Y=Object(r.a)(J,2),q=Y[0],K=Y[1];Object(a.useEffect)((function(){var e=window.location.search.replace(/^\?/,"").replace(/^\??\//,"").split("&").reduce((function(e,t){var n=t.split("="),c=Object(r.a)(n,2),a=c[0],s=c[1];return e[a]=s,e}),{});e.code&&(H("authorized"),O(e.code))}),[]);var Q,U=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"&",n=Object.keys(e);return n.reduce((function(c,a,s){var i="".concat(c).concat(a,"=").concat(e[a]);return s<n.length-1&&(i+=t),i}),"")}({client_id:"2d860b1bb2be4ca296384d7cef9b0301",response_type:"code",scope:"user-top-read,playlist-modify-public",redirect_uri:"https://zach332.github.io/TweetSoundtrack/"});return"loading"==G?Object(c.jsx)(b,{}):"error"==G?Object(c.jsx)("div",{children:Object(c.jsxs)("p",{children:["The server has encountered an error. Your Spotify login may have expired. We recommend that you ",Object(c.jsx)("a",{href:"/TweetSoundtrack",children:"start over."})]})}):"notAuthorized"==G?Object(c.jsxs)("div",{children:[Object(c.jsx)(l,{}),Object(c.jsx)("div",{className:"col-md-12 text-center",style:{paddingBottom:"0%"},children:Object(c.jsxs)("button",{type:"btn btn-primary",onClick:function(){window.location.href="https://accounts.spotify.com/authorize?"+U},className:"btn btn-outline-primary btn-lg",children:["Login to Spotify",Object(c.jsxs)("svg",{width:"1em",height:"1em",viewBox:"0 0 16 16",className:"bi bi-box-arrow-in-right",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[Object(c.jsx)("path",{fillRule:"evenodd",d:"M6 3.5a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-8a.5.5 0 0 1-.5-.5v-2a.5.5 0 0 0-1 0v2A1.5 1.5 0 0 0 6.5 14h8a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2h-8A1.5 1.5 0 0 0 5 3.5v2a.5.5 0 0 0 1 0v-2z"}),Object(c.jsx)("path",{fillRule:"evenodd",d:"M11.854 8.354a.5.5 0 0 0 0-.708l-3-3a.5.5 0 1 0-.708.708L10.293 7.5H1.5a.5.5 0 0 0 0 1h8.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3z"})]})]})})]}):"authorized"==G?Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{className:"response",style:{paddingLeft:"10%",paddingRight:"10%",textAlign:"center",fontSize:"30px",paddingBottom:"5%"},children:"Thanks, we've grabbed your listening information. Now let us know a Twitter user you want to \ud83c\udfb6vibe\ud83c\udfb6 with."}),Object(c.jsx)("div",{className:"mx-auto",style:{paddingBottom:"0%"},children:Object(c.jsxs)("form",{className:"py-4",onSubmit:function(e){H("loading"),u.a.get("https://zach33.pythonanywhere.com/songs",{params:{twitterAccount:h,code:x}}).then((function(e){K(e.data.sentimentColor),w(e.data.spotify.user),z(e.data.spotify.userId),L(e.data.spotify.token),i(e.data.spotify.recommendations.tracks)})).then((function(){H("success")})).catch((function(){H("error")})),e.preventDefault()},style:{width:"100%",padding:"30%"},children:[Object(c.jsxs)("div",{className:"form-group row",children:[Object(c.jsx)("label",{htmlFor:"content",children:"Twitter account"}),Object(c.jsx)("input",{className:"form-control",id:"content",type:"text",placeholder:"nytimes",onChange:function(e){var t=e.target;p(t.value)}})]}),Object(c.jsx)("button",{type:"submit",className:"btn btn-primary btn-lg mt-4",children:"Generate playlist"})]})})]}):(Q="failure"===W?Object(c.jsx)("p",{children:"Sorry; an error was encountered"}):"success"===W?Object(c.jsx)("p",{children:"The playlist was saved to your Spotify account!"}):Object(c.jsxs)("form",{class:"form-inline",onSubmit:function(e){u.a.post("https://api.spotify.com/v1/users/"+k+"/playlists",{name:F},{headers:{Authorization:"Bearer "+T,"Content-Type":"application/json"}}).then((function(e){u.a.post("https://api.spotify.com/v1/playlists/"+e.data.id+"/tracks",{uris:s.map((function(e){return e.uri}))},{headers:{Authorization:"Bearer "+T,"Content-Type":"application/json"}}).then(I("success")).catch((function(e){console.log(e),I("failure")}))})).catch((function(e){console.log(e),I("failure")})),e.preventDefault()},children:[Object(c.jsx)("label",{for:"title",class:"col-sm-2 col-form-label",children:"Playlist title"}),Object(c.jsx)("div",{class:"form-group mx-sm-3 mb-2",children:Object(c.jsx)("input",{type:"text",class:"form-control",id:"title",onChange:function(e){var t=e.target;M(t.value)},placeholder:e.toLocaleDateString()+" vibes"})}),Object(c.jsx)("button",{type:"submit",class:"btn btn-primary mb-2",children:"Add playlist to Spotify"})]}),Object(c.jsxs)("div",{className:"App",children:[Object(c.jsxs)("div",{className:"welcome",style:{fontSize:"50px",fontWeight:"bold"},children:["Welcome, ",g,".\xa0\xa0",Object(c.jsxs)("button",{type:"btn btn-primary",onClick:function(e){e.preventDefault(),window.location.href="http://spotify.com/logout"},className:"btn btn-outline-primary btn-lg",children:["Not you?",Object(c.jsxs)("svg",{width:"1em",height:"1em",viewBox:"0 0 16 16",className:"bi bi-box",fill:"currentColor",children:[Object(c.jsx)("path",{fillRule:"evenodd",d:"M6 3.5a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-8a.5.5 0 0 1-.5-.5v-2a.5.5 0 0 0-1 0v2A1.5 1.5 0 0 0 6.5 14h8a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2h-8A1.5 1.5 0 0 0 5 3.5v2a.5.5 0 0 0 1 0v-2z"}),Object(c.jsx)("path",{fillRule:"evenodd",d:"M11.854 8.354a.5.5 0 0 0 0-.708l-3-3a.5.5 0 1 0-.708.708L10.293 7.5H1.5a.5.5 0 0 0 0 1h8.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3z"})]})]})]}),Object(c.jsx)("div",{className:"welcome",style:{fontSize:"25px"},children:"We've curated the below playlist for you based on the Twitter username you provided and your listening habits."}),Object(c.jsx)("br",{}),Object(c.jsxs)("div",{className:"container",children:[Object(c.jsx)("hr",{}),Object(c.jsxs)("div",{className:"row py-4",children:[Object(c.jsx)("h2",{className:"col col-auto",children:"Sentiment color:"}),Object(c.jsx)("div",{class:"col col-auto rounded-0 card",style:{background:q.background}}),Object(c.jsx)("p",{className:"col",children:q.description})]}),Object(c.jsx)("hr",{}),Q,Object(c.jsx)("div",{className:"row",style:{paddingBottom:"50%"},children:s.map((function(e){return Object(c.jsx)(d,{track:e,sentimentColor:q},e.id)}))})]})]}))},p=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,39)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),s(e),i(e)}))};o.a.render(Object(c.jsx)(s.a.StrictMode,{children:Object(c.jsx)(h,{})}),document.getElementById("root")),p()}},[[38,1,2]]]);
//# sourceMappingURL=main.1ea1748c.chunk.js.map